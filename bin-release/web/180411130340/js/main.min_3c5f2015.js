function createBitmapByName(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e}var __reflect=this&&this.__reflect||function(t,e,i){t.__class__=e,i?i.push(e):i=[e],t.__types__=t.__types__?i.concat(t.__types__):i},__extends=this&&this.__extends||function(t,e){function i(){this.constructor=t}for(var s in e)e.hasOwnProperty(s)&&(t[s]=e[s]);i.prototype=e.prototype,t.prototype=new i},__awaiter=this&&this.__awaiter||function(t,e,i,s){return new(i||(i=Promise))(function(h,a){function n(t){try{o(s.next(t))}catch(e){a(e)}}function r(t){try{o(s["throw"](t))}catch(e){a(e)}}function o(t){t.done?h(t.value):new i(function(e){e(t.value)}).then(n,r)}o((s=s.apply(t,e||[])).next())})},__generator=this&&this.__generator||function(t,e){function i(t){return function(e){return s([t,e])}}function s(i){if(h)throw new TypeError("Generator is already executing.");for(;o;)try{if(h=1,a&&(n=a[2&i[0]?"return":i[0]?"throw":"next"])&&!(n=n.call(a,i[1])).done)return n;switch(a=0,n&&(i=[0,n.value]),i[0]){case 0:case 1:n=i;break;case 4:return o.label++,{value:i[1],done:!1};case 5:o.label++,a=i[1],i=[0];continue;case 7:i=o.ops.pop(),o.trys.pop();continue;default:if(n=o.trys,!(n=n.length>0&&n[n.length-1])&&(6===i[0]||2===i[0])){o=0;continue}if(3===i[0]&&(!n||i[1]>n[0]&&i[1]<n[3])){o.label=i[1];break}if(6===i[0]&&o.label<n[1]){o.label=n[1],n=i;break}if(n&&o.label<n[2]){o.label=n[2],o.ops.push(i);break}n[2]&&o.ops.pop(),o.trys.pop();continue}i=e.call(t,o)}catch(s){i=[6,s],a=0}finally{h=n=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}var h,a,n,r,o={label:0,sent:function(){if(1&n[0])throw n[1];return n[1]},trys:[],ops:[]};return r={next:i(0),"throw":i(1),"return":i(2)},"function"==typeof Symbol&&(r[Symbol.iterator]=function(){return this}),r},CommonScene=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.createdonghua=function(t){var e=RES.getRes(t+"_ske_json"),i=RES.getRes(t+"_tex_json"),s=RES.getRes(t+"_tex_png"),h=new dragonBones.EgretFactory;h.addDragonBonesData(dragonBones.DataParser.parseDragonBonesData(e)),h.addTextureAtlasData(h.parseTextureAtlasData(i,s));var a=h.buildArmature(t),n=a.getDisplay();return dragonBones.WorldClock.clock.add(a),this.addChild(n),a.animation.gotoAndPlay(t),n},e.prototype.onTicker=function(t){this._time||(this._time=t);var e=t,i=e-this._time;return this._time=e,dragonBones.WorldClock.clock.advanceTime(i/1e3),!1},e}(egret.DisplayObjectContainer);__reflect(CommonScene.prototype,"CommonScene");var GameObject=function(t){function e(){return t.call(this)||this}return __extends(e,t),e.prototype.update=function(t){},e}(egret.DisplayObjectContainer);__reflect(GameObject.prototype,"GameObject");var Scene053=function(t){function e(){var e=t.call(this)||this;return e._touchStatus=!1,e._distance=new egret.Point,e.addEventListener(egret.Event.ADDED_TO_STAGE,e.initView,e),console.log("scene053"),SceneController.refresh("053"),e}return __extends(e,t),e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.initView(),[2]})})},e.prototype.initView=function(){var t=this,e=this.stage.stageWidth,i=RES.getRes("streamsound 0_mp3");this._soundchannel=i.play(5,1),this.addEventListener(egret.Event.ENTER_FRAME,this.onTimeUpdate,this),this._bg=new egret.Shape,this.addChild(this._bg=new egret.Shape);var s=this._bg.graphics;s.beginFill(16777164),s.drawRect(0,0,this.stage.stageWidth,this.stage.stageHeight),s.endFill(),this._yunleft=GameUtil.createBitmapByName("yun_png"),this.addChild(this._yunleft),this._yunleft.width=.3*e,this._yunleft.height=.3*e*.442,this._yunleft.x=-this._yunleft.width,this._yunleft.y=.3*this.stage.stageHeight;var h=this;this._yunleft&&egret.Tween.get(h._yunleft).to({x:e*-.15},1500).set({x:h.stage.stageWidth*-.15}).call(function(){h._yunleft.x});var a=GameUtil.createBitmapByName("caodi054_png");a.width=this.stage.stageWidth,a.anchorOffsetX=a.width/2,a.height=.5*this.stage.stageHeight,a.x=this.stage.stageWidth/2,a.y=.5*this.stage.stageHeight,this.addChild(a),this._flowers=this.createdonghua("flowers"),console.log(this._flowers),this._flowers.x=.5*this.stage.stageWidth,this._flowers.y=.88*this.stage.stageHeight,this._flowers.scaleX=this.stage.stageWidth/this._flowers.width*1.1,this._flowers.scaleY=this.stage.stageHeight/this._flowers.height*.55,this._text=new egret.TextField,this._text.width=.8*this.stage.stageWidth,this._text.height=.2*this.stage.stageHeight,this._text.x=.5*this.stage.stageWidth-.5*this._text.width,this._text.y=.13*this.stage.stageHeight,this._text.textColor=0,this._text.size=20,this._text.fontFamily="微软雅黑",this._text.textAlign=egret.HorizontalAlign.CENTER,this._text.textFlow=[{text:"三、do、re、mi 的练习",style:{size:95,textColor:14827308}},{text:"\n"},{text:"\n"},{text:"\n"},{text:"\n"},{text:"\n"},{text:"\n"},{text:"小朋友们帮",style:{size:65,textColor:16750848}},{text:" do、re、mi ",style:{size:65,textColor:14827308}},{text:"三个小动物分别找到自己的家吧。",style:{size:65,textColor:16750848}}],this.addChild(this._text),this._house=GameUtil.createBitmapByName("fangzi1_png"),this._house.width=.6*this.stage.stageWidth,this._house.height=.327*this._house.width,this._house.x=(this.stage.stageWidth-this._house.width)/2+.1*this.stage.stageWidth,this._house.y=.6*this.stage.stageHeight,this.addChild(this._house),this._do=this.createdonghua("do"),this._do.anchorOffsetX=this._do.width/2,this._do.anchorOffsetY=this._do.height/2,this._do.x=.35*this.stage.stageWidth+.5*this.stage.stageWidth*1/3,this._do.y=.55*this.stage.stageHeight,this._do.scaleX=4,this._do.scaleY=4,egret.Tween.get(this._do).to({x:.25*this.stage.stageWidth+.5*this.stage.stageWidth*1/3},1500).set({x:.3*this.stage.stageWidth+.5*this.stage.stageWidth*1/3}),this._re=this.createdonghua("re"),this._re.anchorOffsetX=this._re.width/2,this._re.anchorOffsetY=this._re.height/2,this._re.x=.35*this.stage.stageWidth+.5*this.stage.stageWidth*2/3,this._re.y=.55*this.stage.stageHeight,this._re.scaleX=4,this._re.scaleY=4,egret.Tween.get(this._re).to({x:.25*this.stage.stageWidth+.5*this.stage.stageWidth*2/3},1500).set({x:.3*this.stage.stageWidth+.5*this.stage.stageWidth*2/3}),this._mi=this.createdonghua("mi"),this._mi.anchorOffsetX=this._mi.width/2,this._mi.anchorOffsetY=this._mi.height/2,this._mi.x=.35*this.stage.stageWidth+.5*this.stage.stageWidth*3/3,this._mi.y=.55*this.stage.stageHeight,this._mi.scaleX=4,this._mi.scaleY=4,egret.Tween.get(this._mi).to({x:.25*this.stage.stageWidth+.5*this.stage.stageWidth*3/3},1500).set({x:.3*this.stage.stageWidth+.5*this.stage.stageWidth*3/3}),this._shou=GameUtil.createBitmapByName("shou_png"),this.addChild(this._shou),this._shou.width=3*this._do.width,this._shou.height=this._shou.width,this._shou.anchorOffsetX=this._shou.width/2,this._shou.anchorOffsetY=this._shou.height/2,this._shou.y=.55*this.stage.stageHeight+this._shou,this._shou.x=.3*this.stage.stageWidth+.5*this.stage.stageWidth*1/3,this._btnleft=GameUtil.createBitmapByName("btnleft0001_png"),this._btnleft.anchorOffsetX=this._btnleft.width/2,this._btnleft.anchorOffsetY=this._btnleft.height/2,this._btnleft.x=.06*this.stage.stageWidth,this._btnleft.y=.8*this.stage.stageHeight,this._btnleft.scaleX=this._btnleft.scaleY=this.stage.stageWidth/this._btnleft.width*.1,this.addChild(this._btnleft),this._btnright=GameUtil.createBitmapByName("btnright0001_png"),this._btnright.anchorOffsetX=this._btnright.width/2,this._btnright.anchorOffsetY=this._btnright.height/2,this._btnright.x=.94*this.stage.stageWidth,this._btnright.y=.8*this.stage.stageHeight,this._btnright.scaleX=this._btnright.scaleY=this.stage.stageWidth/this._btnright.width*.1,this.addChild(this._btnright),this._bear=this.createdonghua("bearmove"),this._bear.x=0-this._bear.width/2,this._bear.y=.7*this.stage.stageHeight,this._bear.scaleX=5,this._bear.scaleY=5;var n=this.stage;egret.Tween.get(this._bear).to({x:.2*this.stage.stageWidth},1e3).call(function(){t.removeChild(t._bear),t._bear=t.createdonghua("bear"),t._bear.x=.2*n.stageWidth,t._bear.y=.7*n.stageHeight,t._bear.scaleX=2.5,t._bear.scaleY=2.5,t.addChild(t._bear),t._zuiba=t.createdonghua("zuiba"),t._zuiba.x=t._bear.x-3*t._zuiba.width,t._zuiba.y=t._bear.y-.8*t._zuiba.height,t._zuiba.scaleX=t._zuiba.scaleY=3}),this._do.touchEnabled=!0,this._do.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),this._do.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),this._re.touchEnabled=!0,this._re.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),this._re.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this),this._mi.touchEnabled=!0,this._mi.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.mouseDown,this),this._mi.addEventListener(egret.TouchEvent.TOUCH_END,this.mouseUp,this)},e.prototype.mouseDown=function(t){console.log("Mouse Down."),this._touchStatus=!0,this._distance.x=t.stageX-t.target.x,this._distance.y=t.stageY-t.target.y,this._target=t.target,this.stage.addEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},e.prototype.mouseMove=function(t){this._touchStatus&&(console.log("moving now ! Mouse: [X:"+t.stageX+",Y:"+t.stageY+"]"),this._target.x=t.stageX-this._distance.x,this._target.y=t.stageY-this._distance.y)},e.prototype.mouseUp=function(t){console.log("Mouse Up."),this._touchStatus=!1,this.stage.removeEventListener(egret.TouchEvent.TOUCH_MOVE,this.mouseMove,this)},e.prototype.onTimeUpdate=function(){this._soundchannel.position>9&&(this._soundchannel.stop(),this._soundchannel=null,this.removeEventListener(egret.Event.ENTER_FRAME,this.onTimeUpdate,this))},e.prototype._tuichu=function(){egret.Tween.removeTweens(this._caihong),egret.Tween.removeTweens(this._yun2),egret.Tween.removeTweens(this._yunleft),egret.Tween.removeTweens(this._yunright),egret.Tween.removeTweens(this._do),egret.Tween.removeTweens(this._re),egret.Tween.removeTweens(this._mi),console.log("舞台高度",this._caihong.height),SceneController.jumpl(this)},e}(CommonScene);__reflect(Scene053.prototype,"Scene053");var GameUtil=function(){function t(){}return t.createButton=function(t){var e=new egret.DisplayObjectContainer,i=createBitmapByName("button_png"),s=this.createText(t);return e.addChild(i),e.addChild(s),s.x=i.width/2,s.y=i.height/2,e.touchEnabled=!0,e.touchChildren=!1,e.anchorOffsetX=i.width/2,e.anchorOffsetY=i.height/2,e},t.createText=function(t){var e=new egret.TextField;return e.text=t,e.size=120,e.anchorOffsetX=e.width/2,e.anchorOffsetY=e.height/2,e},t.createBitmapByName=function(t){var e=new egret.Bitmap,i=RES.getRes(t);return e.texture=i,e},t}();__reflect(GameUtil.prototype,"GameUtil");var LoadingUI=function(t){function e(){var e=t.call(this)||this;return e.createView(),e}return __extends(e,t),e.prototype.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},e.prototype.onProgress=function(t,e){this.textField.text="Loading..."+t+"/"+e},e}(egret.Sprite);__reflect(LoadingUI.prototype,"LoadingUI",["RES.PromiseTaskReporter"]);var Scene051=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.initView,e),console.log("scene051"),SceneController.refresh("051"),e}return __extends(e,t),e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.initView(),[2]})})},e.prototype.initView=function(){var t=this,e=RES.getRes("streamsound 0_mp3");this._soundchannel=e.play(5,1),this.addEventListener(egret.Event.ENTER_FRAME,this.onTimeUpdate,this);var i=GameUtil.createBitmapByName("sky_png"),s=GameUtil.createBitmapByName("yun_png");this.addChild(i),i.width=this.stage.stageWidth,i.height=this.stage.stageHeight,this.addChild(s),s.x=.6*this.stage.stageWidth,s.y=.05*this.stage.stageHeight,s.scaleX=6,s.scaleY=6,this._yun2=GameUtil.createBitmapByName("yunlianpai0001_png"),this._yun2.anchorOffsetX=this._yun2.width/2,this._yun2.anchorOffsetY=this._yun2.height/2,this._yun2.x=this.stage.stageWidth/2,this._yun2.y=.5*this.stage.stageHeight,this._yun2.scaleX=this.stage.stageWidth/this._yun2.width*1.1,this._yun2.scaleY=this.stage.stageHeight/this._yun2.height*.25,this.addChild(this._yun2),egret.Tween.get(this._yun2,{loop:!0}).to({y:.45*this.stage.stageHeight},1500).wait(500).to({y:.5*this.stage.stageHeight},1500);var h=GameUtil.createBitmapByName("cao051_png");h.anchorOffsetX=h.width/2,h.x=this.stage.stageWidth/2,this._text=new egret.TextField,this._text.width=.5*this.stage.stageWidth,this._text.height=.2*this.stage.stageHeight,this._text.x=.5*this.stage.stageWidth-.5*this._text.width,this._text.y=.13*this.stage.stageHeight,this._text.textColor=0,this._text.size=20,this._text.fontFamily="微软雅黑",this._text.textAlign=egret.HorizontalAlign.CENTER,this._text.textFlow=[{text:"一、do、re、mi 的学习",style:{size:85,textColor:3169309}},{text:"\n"},{text:"\n"},{text:"\n"},{text:"\n"},{text:"快乐的小熊 dodo 和它的好朋友兔子 rere 和小猫 mimi。",style:{size:50,textColor:3169309}}],this.addChild(this._text),this._yuepu=GameUtil.createBitmapByName("yinjie1_png"),this.addChild(this._yuepu),this._yuepu.anchorOffsetX=this._yuepu.width/2,this._yuepu.anchorOffsetY=this._yuepu.height/2,this._yuepu.x=this.stage.stageWidth/2,this._yuepu.y=.35*this.stage.$stageHeight,this._yuepu.scaleX=this._yuepu.scaleY=this.stage.stageWidth/this._yuepu.width*.5,h.y=.5*this.stage.stageHeight,h.scaleX=this.stage.stageWidth/h.width*1.1,h.scaleY=this.stage.stageHeight/h.height*1,this._caodi=h,this.addChild(h),this._bear=this.createdonghua("bearmove"),this._bear.x=0-this._bear.width/2,this._bear.y=.8*this.stage.stageHeight,this._bear.scaleX=5,this._bear.scaleY=5,egret.Tween.get(this._bear).to({x:.2*this.stage.stageWidth},1e3).call(function(){t.removeChild(t._bear),t._bear=t.createdonghua("bear"),t._bear.x=.2*t.stage.stageWidth,t._bear.y=.8*t.stage.stageHeight,t._bear.scaleX=2.5,t._bear.scaleY=2.5,t.addChild(t._bear),t._zuiba=t.createdonghua("zuiba"),t._zuiba.x=t._bear.x-3*t._zuiba.width,t._zuiba.y=t._bear.y-.8*t._zuiba.height,t._zuiba.scaleX=t._zuiba.scaleY=3}),this._do=this.createdonghua("do"),this._do.anchorOffsetX=this._do.width/2,this._do.anchorOffsetY=this._do.height/2,this._do.x=.35*this.stage.stageWidth+.5*this.stage.stageWidth*1/3,this._do.y=.85*this.stage.stageHeight,this._do.scaleX=5,this._do.scaleY=5,this._re=this.createdonghua("re"),this._re.anchorOffsetX=this._re.width/2,this._re.anchorOffsetY=this._re.height/2,this._re.x=.35*this.stage.stageWidth+.5*this.stage.stageWidth*2/3,this._re.y=.85*this.stage.stageHeight,this._re.scaleX=5,this._re.scaleY=5,this._mi=this.createdonghua("mi"),this._mi.anchorOffsetX=this._mi.width/2,this._mi.anchorOffsetY=this._mi.height/2,this._mi.x=.35*this.stage.stageWidth+.5*this.stage.stageWidth*3/3,this._mi.y=.85*this.stage.stageHeight,this._mi.scaleX=5,this._mi.scaleY=5,this._flowers=this.createdonghua("flowers"),console.log(this._flowers),this._flowers.x=.5*this.stage.stageWidth,this._flowers.y=.88*this.stage.stageHeight,this._flowers.scaleX=this.stage.stageWidth/this._flowers.width*1.1,this._flowers.scaleY=this.stage.stageHeight/this._flowers.height*.55,this._btnright=GameUtil.createBitmapByName("btn0001_png"),this._btnright.x=.85*this.stage.stageWidth,this._btnright.y=.75*this.stage.stageHeight,this._btnright.scaleX=this._btnright.scaleY=this.stage.stageWidth/this._btnright.width*.1,this.addChild(this._btnright),this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandler,this)},e.prototype.onTimeUpdate=function(){this._soundchannel.position>9&&(this._soundchannel.stop(),this._soundchannel=null,this._zuiba.parent&&this.removeChild(this._zuiba),this.removeEventListener(egret.Event.ENTER_FRAME,this.onTimeUpdate,this))},e.prototype.touchHandler=function(t){this.checkCollision(t.stageX,t.stageY)},e.prototype.checkCollision=function(t,e){var i=this;this._btnright.hitTestPoint(t,e)&&SceneController.jumpr(i);var s=this._do.hitTestPoint(t,e),h=this._re.hitTestPoint(t,e),a=this._mi.hitTestPoint(t,e);if(s&&this._do.parent){var n=this._do.x,r=this._do.y;this.removeChild(this._do),this._do=this.createdonghua("do_hover"),this._do.anchorOffsetX=.45*this._do.width,this._do.anchorOffsetY=this._do.height/2,this._do.x=n,this._do.y=r,this._do.scaleX=5,this._do.scaleY=5,this.addChild(this._do)}else{var n=this._do.x,r=this._do.y;this.removeChild(this._do),this._do=this.createdonghua("do"),this._do.anchorOffsetX=this._do.width/2,this._do.anchorOffsetY=this._do.height/2,this._do.x=n,this._do.y=r,this._do.scaleX=5,this._do.scaleY=5,this.addChild(this._do)}if(h&&this._re.parent){var n=this._re.x,r=this._re.y;this.removeChild(this._re),this._re=this.createdonghua("re_hover"),this._re.anchorOffsetX=.38*this._re.width,this._re.anchorOffsetY=this._re.height/2,this._re.x=n,this._re.y=r,this._re.scaleX=5,this._re.scaleY=5,this.addChild(this._re)}else{var n=this._re.x,r=this._re.y;this.removeChild(this._re),this._re=this.createdonghua("re"),this._re.anchorOffsetX=.5*this._re.width,this._re.anchorOffsetY=this._re.height/2,this._re.x=n,this._re.y=r,this._re.scaleX=5,this._re.scaleY=5,this.addChild(this._re)}if(a&&this._mi.parent){var n=this._mi.x,r=this._mi.y;this.removeChild(this._mi),this._mi=this.createdonghua("mi_hover"),this._mi.anchorOffsetX=.2*this._mi.width,this._mi.anchorOffsetY=this._mi.height/2,this._mi.x=n,this._mi.y=r,this._mi.scaleX=5,this._mi.scaleY=5,this.addChild(this._mi)}else{var n=this._mi.x,r=this._mi.y;this.removeChild(this._mi),this._mi=this.createdonghua("mi"),this._mi.anchorOffsetX=this._mi.width/2,this._mi.anchorOffsetY=this._mi.height/2,this._mi.x=n,this._mi.y=r,this._mi.scaleX=5,this._mi.scaleY=5,this.addChild(this._mi)}},e}(CommonScene);__reflect(Scene051.prototype,"Scene051");var Scene052=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.initView,e),console.log("scene052"),SceneController.refresh("052"),e}return __extends(e,t),e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.initView(),[2]})})},e.prototype.initView=function(){var t=this,e=this.stage.stageWidth,i=RES.getRes("streamsound 0_mp3");this._soundchannel=i.play(5,1),this.addEventListener(egret.Event.ENTER_FRAME,this.onTimeUpdate,this),this._bg=new egret.Shape,this.addChild(this._bg=new egret.Shape);var s=new egret.Matrix;s.createGradientBox(this.width,this.height);var h=this._bg.graphics;h.beginFill(15717338),h.drawRect(0,0,this.stage.stageWidth,this.stage.stageHeight),h.endFill(),this._bg=GameUtil.createBitmapByName("bg053_png"),this.addChild(this._bg),this._bg.width=this.stage.stageWidth,this._bg.height=this.stage.stageHeight,this._yunright=GameUtil.createBitmapByName("yun_png"),this.addChild(this._yunright),this._yunright,this._yunright.width=.45*e,this._yunright.height=.45*e*.442,this._yunright.x=this.stage.stageWidth+this._yunright.width/2,this._yunright.y=.05*this.stage.stageHeight,egret.Tween.get(this._yunright).to({x:.6*this.stage.stageWidth},1500).set({x:.6*this.stage.stageWidth}).call(function(){var e=t._yunright.y;egret.Tween.get(t._yunright,{loop:!0}).to({y:e+t._yunright.height/4},1500).wait(500).to({y:e-t._yunright.height/4*1},3e3).to({y:e},1500)}),this._yunleft=GameUtil.createBitmapByName("yun_png"),this.addChild(this._yunleft),this._yunleft.width=.3*e,this._yunleft.height=.3*e*.442,this._yunleft.x=-this._yunleft.width,this._yunleft.y=.35*this.stage.stageHeight,egret.Tween.get(this._yunleft).to({x:e*-.15},1500).set({x:this.stage.stageWidth*-.15}).call(function(){var e=t._yunleft.x;egret.Tween.get(t._yunleft,{loop:!0}).to({x:e+t._yunright.width/4},3e3).wait(200).to({x:e-t._yunright.width/4*1},6e3).to({x:e},3e3)}),this._caihong=GameUtil.createBitmapByName("caihong1_png"),this.addChild(this._caihong),this._caihong.width=this.stage.stageWidth,this._caihong.height=.388*this.stage.stageWidth,this._caihong.anchorOffsetX=this._caihong.width/2,this._caihong.anchorOffsetY=this._caihong.height/2,this._caihong.x=this.stage.stageWidth/2,this._caihong.y=.95*this.stage.stageHeight,this._caihong.fillMode=egret.BitmapFillMode.SCALE,this._caihong&&egret.Tween.get(this._caihong).to({y:.95*this.stage.stageHeight},1500).wait(500).to({y:1*this.stage.stageHeight},3e3).to({y:.95*this.stage.stageHeight},1500).set({y:.95*this.stage.stageHeight}).call(function(){egret.Tween.removeTweens(t._caihong)}),this._yun2=GameUtil.createBitmapByName("yunlianpai0001_png"),this.addChild(this._yun2),this._yun2.width=1.5*e,this._yun2.height=1.5*e*.098*1.2,this._yun2.anchorOffsetX=this._yun2.width/2,this._yun2.anchorOffsetY=this._yun2.height/2,this._yun2.x=this.stage.stageWidth/2,this._yun2.y=1*this.stage.stageHeight+this._yun2.height/2,egret.Tween.get(this._yun2).to({x:this.stage.stageHeight}).call(function(){console.log(egret.Tween.get(t._yun2))}),this._text=new egret.TextField,this._text.width=.5*this.stage.stageWidth,this._text.height=.2*this.stage.stageHeight,this._text.x=.5*this.stage.stageWidth-.5*this._text.width,this._text.y=.13*this.stage.stageHeight,this._text.textColor=0,this._text.size=20,this._text.fontFamily="微软雅黑",this._text.textAlign=egret.HorizontalAlign.CENTER,this._text.textFlow=[{text:"二、do、re、mi 的变化",style:{size:95,textColor:13369599}},{text:"\n"},{text:"\n"},{text:"\n"},{text:"\n"},{text:"\n"},{text:"\n"},{text:"       我们来听听它们的声音会发生什么变化呢？",style:{size:55,textColor:14642035}}],this.addChild(this._text),this._yuepu_left=GameUtil.createBitmapByName("yuepu1_png"),this.addChild(this._yuepu_left),this._yuepu_left.anchorOffsetX=this._yuepu_left.width/2,this._yuepu_left.anchorOffsetY=this._yuepu_left.height/2,this._yuepu_left.x=this.stage.stageWidth/2-.25*this.stage.stageWidth,this._yuepu_left.y=.35*this.stage.$stageHeight,this._yuepu_left.scaleX=this._yuepu_left.scaleY=this.stage.stageWidth/this._yuepu_left.width*.18,this._yuepu_mid=GameUtil.createBitmapByName("yuepu2_png"),this.addChild(this._yuepu_mid),this._yuepu_mid.anchorOffsetX=this._yuepu_mid.width/2,this._yuepu_mid.anchorOffsetY=this._yuepu_mid.height/2,this._yuepu_mid.x=this.stage.stageWidth/2,this._yuepu_mid.y=.35*this.stage.$stageHeight,this._yuepu_mid.scaleX=this._yuepu_mid.scaleY=this.stage.stageWidth/this._yuepu_mid.width*.18,this._yuepu_right=GameUtil.createBitmapByName("yuepu3_png"),this.addChild(this._yuepu_right),this._yuepu_right.anchorOffsetX=this._yuepu_right.width/2,this._yuepu_right.anchorOffsetY=this._yuepu_right.height/2,this._yuepu_right.x=this.stage.stageWidth/2+.25*this.stage.stageWidth,this._yuepu_right.y=.35*this.stage.$stageHeight,this._yuepu_right.scaleX=this._yuepu_right.scaleY=this.stage.stageWidth/this._yuepu_right.width*.18,this._do=this.createdonghua("do"),this._do.anchorOffsetX=this._do.width/2,this._do.anchorOffsetY=this._do.height/2,this._do.x=.35*this.stage.stageWidth+.5*this.stage.stageWidth*1/3,this._do.y=.85*this.stage.stageHeight,this._do.scaleX=5,this._do.scaleY=5,egret.Tween.get(this._do).to({x:.25*this.stage.stageWidth+.5*this.stage.stageWidth*1/3},1500).set({x:.25*this.stage.stageWidth+.5*this.stage.stageWidth*1/3}),this._re=this.createdonghua("re"),this._re.anchorOffsetX=this._re.width/2,this._re.anchorOffsetY=this._re.height/2,this._re.x=.35*this.stage.stageWidth+.5*this.stage.stageWidth*2/3,this._re.y=.85*this.stage.stageHeight,this._re.scaleX=5,this._re.scaleY=5,egret.Tween.get(this._re).to({x:.25*this.stage.stageWidth+.5*this.stage.stageWidth*2/3},1500).set({x:.25*this.stage.stageWidth+.5*this.stage.stageWidth*2/3}),this._mi=this.createdonghua("mi"),this._mi.anchorOffsetX=this._mi.width/2,this._mi.anchorOffsetY=this._mi.height/2,this._mi.x=.35*this.stage.stageWidth+.5*this.stage.stageWidth*3/3,this._mi.y=.85*this.stage.stageHeight,this._mi.scaleX=5,this._mi.scaleY=5,egret.Tween.get(this._mi).to({x:.25*this.stage.stageWidth+.5*this.stage.stageWidth*3/3},1500).set({x:.25*this.stage.stageWidth+.5*this.stage.stageWidth*3/3}),this._btnleft=GameUtil.createBitmapByName("btnleft0001_png"),this._btnleft.anchorOffsetX=this._btnleft.width/2,this._btnleft.anchorOffsetY=this._btnleft.height/2,this._btnleft.x=.1*this.stage.stageWidth,this._btnleft.y=.75*this.stage.stageHeight,this._btnleft.scaleX=this._btnleft.scaleY=this.stage.stageWidth/this._btnleft.width*.1,this.addChild(this._btnleft),this._btnright=GameUtil.createBitmapByName("btnright0001_png"),this._btnright.anchorOffsetX=this._btnright.width/2,this._btnright.anchorOffsetY=this._btnright.height/2,this._btnright.x=.9*this.stage.stageWidth,this._btnright.y=.75*this.stage.stageHeight,this._btnright.scaleX=this._btnright.scaleY=this.stage.stageWidth/this._btnright.width*.1,this.addChild(this._btnright),this.stage.addEventListener(egret.TouchEvent.TOUCH_BEGIN,this.touchHandler,this)},e.prototype.onTimeUpdate=function(){this._soundchannel.position>9&&(this._soundchannel.stop(),this._soundchannel=null,this.removeEventListener(egret.Event.ENTER_FRAME,this.onTimeUpdate,this))},e.prototype.touchHandler=function(t){this.checkCollision(t.stageX,t.stageY)},e.prototype._tuichu=function(){egret.Tween.removeTweens(this._caihong),egret.Tween.removeTweens(this._yun2),egret.Tween.removeTweens(this._yunleft),egret.Tween.removeTweens(this._yunright),egret.Tween.removeTweens(this._do),egret.Tween.removeTweens(this._re),egret.Tween.removeTweens(this._mi),console.log("舞台高度",this._caihong.height),SceneController.jumpl(this)},e.prototype.checkCollision=function(t,e){this._btnleft.hitTestPoint(t,e)&&this._tuichu(),this._btnright.hitTestPoint(t,e)&&SceneController.jumpr(this);var i=this._do.hitTestPoint(t,e),s=this._re.hitTestPoint(t,e),h=this._mi.hitTestPoint(t,e);if(i&&this._do.parent){var a=this._do.x,n=this._do.y;this.removeChild(this._do),this._do=this.createdonghua("do_hover"),this._do.anchorOffsetX=.45*this._do.width,this._do.anchorOffsetY=this._do.height/2,this._do.x=a,this._do.y=n,this._do.scaleX=5,this._do.scaleY=5,this.addChild(this._do)}else{var a=this._do.x,n=this._do.y;this.removeChild(this._do),this._do=this.createdonghua("do"),this._do.anchorOffsetX=this._do.width/2,this._do.anchorOffsetY=this._do.height/2,this._do.x=a,this._do.y=n,this._do.scaleX=5,this._do.scaleY=5,this.addChild(this._do)}if(s&&this._re.parent){var a=this._re.x,n=this._re.y;this.removeChild(this._re),this._re=this.createdonghua("re_hover"),this._re.anchorOffsetX=.38*this._re.width,this._re.anchorOffsetY=this._re.height/2,this._re.x=a,this._re.y=n,this._re.scaleX=5,this._re.scaleY=5,this.addChild(this._re)}else{var a=this._re.x,n=this._re.y;this.removeChild(this._re),this._re=this.createdonghua("re"),this._re.anchorOffsetX=.5*this._re.width,this._re.anchorOffsetY=this._re.height/2,this._re.x=a,this._re.y=n,this._re.scaleX=5,this._re.scaleY=5,this.addChild(this._re)}if(h&&this._mi.parent){var a=this._mi.x,n=this._mi.y;this.removeChild(this._mi),this._mi=this.createdonghua("mi_hover"),this._mi.anchorOffsetX=.2*this._mi.width,this._mi.anchorOffsetY=this._mi.height/2,this._mi.x=a,this._mi.y=n,this._mi.scaleX=5,this._mi.scaleY=5,this.addChild(this._mi)}else{var a=this._mi.x,n=this._mi.y;this.removeChild(this._mi),this._mi=this.createdonghua("mi"),this._mi.anchorOffsetX=this._mi.width/2,this._mi.anchorOffsetY=this._mi.height/2,this._mi.x=a,this._mi.y=n,this._mi.scaleX=5,this._mi.scaleY=5,this.addChild(this._mi)}},e}(CommonScene);__reflect(Scene052.prototype,"Scene052");var Main=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.onAddToStage,e),e}return __extends(e,t),e.prototype.onAddToStage=function(t){egret.lifecycle.addLifecycleListener(function(t){t.onUpdate=function(){}}),egret.lifecycle.onPause=function(){egret.ticker.pause()},egret.lifecycle.onResume=function(){egret.ticker.resume()},this.runGame()["catch"](function(t){console.log(t)})},e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return[4,this.loadResource()];case 1:return e.sent(),this.createGameScene(),[4,platform.login()];case 2:return e.sent(),[4,platform.getUserInfo()];case 3:return t=e.sent(),console.log(t),[2]}})})},e.prototype.loadResource=function(){return __awaiter(this,void 0,void 0,function(){var t,e;return __generator(this,function(i){switch(i.label){case 0:return i.trys.push([0,7,,8]),t=new LoadingUI,this.stage.addChild(t),[4,RES.loadConfig("resource/default.res.json","resource/")];case 1:return i.sent(),[4,RES.loadGroup("preload",0,t)];case 2:return i.sent(),[4,RES.loadGroup("lesson052",0,t)];case 3:return i.sent(),[4,RES.loadGroup("lesson053",0,t)];case 4:return i.sent(),[4,RES.loadGroup("lesson054",0,t)];case 5:return i.sent(),[4,RES.loadGroup("lesson055",0,t)];case 6:return i.sent(),this.stage.removeChild(t),[3,8];case 7:return e=i.sent(),console.error(e),[3,8];case 8:return[2]}})})},e.prototype.createGameScene=function(){var t=new egret.DisplayObjectContainer;this.addChild(t),SceneController.instance.setStage(t),SceneController.initGame()},e}(egret.DisplayObjectContainer);__reflect(Main.prototype,"Main");var Scene054=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.initView,e),console.log("scene054"),SceneController.refresh("054"),e}return __extends(e,t),e.prototype.runGame=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return this.initView(),[2]})})},e.prototype.initView=function(){var t=this,e=this.stage.stageWidth,i=RES.getRes("streamsound 0_mp3");this._soundchannel=i.play(5,1),this.addEventListener(egret.Event.ENTER_FRAME,this.onTimeUpdate,this),this._bg=new egret.Shape,this.addChild(this._bg=new egret.Shape);var s=this._bg.graphics;s.beginFill(16777164),s.drawRect(0,0,this.stage.stageWidth,this.stage.stageHeight),s.endFill(),this._yunleft=GameUtil.createBitmapByName("yun_png"),this.addChild(this._yunleft),this._yunleft.width=.3*e,this._yunleft.height=.3*e*.442,this._yunleft.x=-this._yunleft.width,this._yunleft.y=.3*this.stage.stageHeight,egret.Tween.get(this._yunleft).to({x:e*-.15},1500).set({x:this.stage.stageWidth*-.15}).call(function(){t._yunleft.x});var h=GameUtil.createBitmapByName("caodi054_png");h.width=this.stage.stageWidth,h.anchorOffsetX=h.width/2,h.height=.5*this.stage.stageHeight,h.x=this.stage.stageWidth/2,h.y=.7*this.stage.stageHeight,this.addChild(h),this._flowers=this.createdonghua("flowers"),console.log(this._flowers),this._flowers.x=.5*this.stage.stageWidth,this._flowers.y=.83*this.stage.stageHeight,this._flowers.scaleX=this.stage.stageWidth/this._flowers.width*1.1,this._flowers.scaleY=this.stage.stageHeight/this._flowers.height*.55,this._text=new egret.TextField,this._text.width=.8*this.stage.stageWidth,this._text.height=.2*this.stage.stageHeight,this._text.x=.5*this.stage.stageWidth-.5*this._text.width,this._text.y=.13*this.stage.stageHeight,this._text.textColor=0,this._text.size=20,this._text.fontFamily="微软雅黑",this._text.textAlign=egret.HorizontalAlign.CENTER,this._text.textFlow=[{text:"三、do、re、mi 的练习",style:{size:95,textColor:14827308}},{text:"\n"},{text:"\n"},{text:"\n"},{text:"\n"},{text:"\n"},{text:"\n"},{text:"小朋友们帮",style:{size:65,textColor:16750848}},{text:" do、re、mi ",style:{size:65,textColor:14827308}},{text:"三个小动物分别找到自己的家吧。",style:{size:65,textColor:16750848}}],this.addChild(this._text),this._girl=this.createdonghua("girl"),this._girl.x=.35*this.stage.stageWidth,this._girl.y=.7*this.stage.stageHeight,this._girl.width=.15*this.stage.stageWidth,this._girl.height=1.082*this._girl.width,this.addChild(this._girl),this._yanggao=this.createdonghua("yanggao"),this._yanggao.x=.6*this.stage.stageWidth,this._yanggao.y=.7*this.stage.stageHeight,this._yanggao.width=.4*this.stage.stageWidth,this._yanggao.height=1.082*this._girl.width,this._yanggao.scaleX=2,this._yanggao.scaleY=2,this.addChild(this._yanggao),this._zhalan=GameUtil.createBitmapByName("zhanlan_png"),this.addChild(this._zhalan),this._zhalan.width=this.stage.stageWidth,this._zhalan.height=.274*this._zhalan.width,this._zhalan.anchorOffsetX=this._zhalan.width/2,this._zhalan.anchorOffsetY=this._zhalan.height/2,this._zhalan.x=this.stage.stageWidth/2,this._zhalan.y=this.stage.stageHeight,this._btnleft=GameUtil.createBitmapByName("btnleft0001_png"),this._btnleft.anchorOffsetX=this._btnleft.width/2,this._btnleft.anchorOffsetY=this._btnleft.height/2,this._btnleft.x=.1*this.stage.stageWidth,this._btnleft.y=.8*this.stage.stageHeight,this._btnleft.scaleX=this._btnleft.scaleY=this.stage.stageWidth/this._btnleft.width*.1,this.addChild(this._btnleft),this._btnright=GameUtil.createBitmapByName("btnright0001_png"),this._btnright.anchorOffsetX=this._btnright.width/2,this._btnright.anchorOffsetY=this._btnright.height/2,this._btnright.x=.9*this.stage.stageWidth,this._btnright.y=.8*this.stage.stageHeight,this._btnright.scaleX=this._btnright.scaleY=this.stage.stageWidth/this._btnright.width*.1,this.addChild(this._btnright)
},e.prototype.onTimeUpdate=function(){this._soundchannel.position>9&&(this._soundchannel.stop(),this._soundchannel=null,this.removeEventListener(egret.Event.ENTER_FRAME,this.onTimeUpdate,this))},e.prototype._tuichu=function(){var t=this;egret.Tween.removeTweens(this._caihong),egret.Tween.removeTweens(this._yun2),egret.Tween.removeTweens(this._yunleft),egret.Tween.removeTweens(this._yunright),egret.Tween.removeTweens(this._do),egret.Tween.removeTweens(this._re),egret.Tween.removeTweens(this._mi),console.log("舞台高度",this._caihong.height),SceneController.jumpl(t)},e}(CommonScene);__reflect(Scene054.prototype,"Scene054");var SceneController=function(){function t(){this.startScene=null,this.Scene051=null,this.Scene052=null,this.Scene053=null,this.Scene054=null}return Object.defineProperty(t,"instance",{get:function(){return this.sceneController||(this.sceneController=new t),this.sceneController},enumerable:!0,configurable:!0}),t.prototype.setStage=function(t){this._stage=t},t.initGame=function(){var t=this.instance._stage;this.instance.startScene=new StartScene,t.addChild(this.instance.startScene)},t.loadLevelData=function(){var t=RES.getRes("config_json");GameData.elements=t.elements,GameData.speed=t.properties.speed/1920*egret.MainContext.instance.stage.stageHeight,GameData.gravity=t.properties.gravity/1920*egret.MainContext.instance.stage.stageHeight,GameData.jumpSpeed=t.properties.jumpSpeed/1920*egret.MainContext.instance.stage.stageHeight,GameData.barrierWidth=t.properties.barrierWidth,GameData.maxMileage=t.properties.maxMileage},t.pauseGame=function(){GameData.ispause?(egret.ticker.resume(),GameData.ispause=!1):(egret.ticker.pause(),GameData.ispause=!0)},t.Scene051=function(t){var e=this.instance._stage;t.touchHandler&&e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,t.touchHandler,this),this.instance.startScene&&this.instance.startScene.parent&&(e.removeChild(this.instance.startScene),this.instance.startScene=null),this.instance.Scene051&&this.instance.Scene051.parent&&(e.removeChild(this.instance.Scene051),this.instance.Scene051=null),this.instance.Scene052&&this.instance.Scene052.parent&&(e.removeChild(this.instance.Scene052),this.instance.Scene052=null),this.instance.Scene053&&this.instance.Scene053.parent&&(e.removeChild(this.instance.Scene053),this.instance.Scene053=null),this.instance.Scene054&&this.instance.Scene054.parent&&(e.removeChild(this.instance.Scene054),this.instance.Scene054=null),this.instance.Scene051=new Scene051,e.addChild(this.instance.Scene051)},t.Scene052=function(t){var e=this.instance._stage;t.touchHandler&&e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,t.touchHandler,this),this.instance.startScene&&this.instance.startScene.parent&&(e.removeChild(this.instance.startScene),this.instance.startScene=null),this.instance.Scene051&&this.instance.Scene051.parent&&(e.removeChild(this.instance.Scene051),this.instance.Scene051=null),this.instance.Scene052&&this.instance.Scene052.parent&&(e.removeChild(this.instance.Scene052),this.instance.Scene052=null),this.instance.Scene053&&this.instance.Scene053.parent&&(e.removeChild(this.instance.Scene053),this.instance.Scene053=null),this.instance.Scene054&&this.instance.Scene054.parent&&(e.removeChild(this.instance.Scene054),this.instance.Scene054=null),this.instance.Scene052=new Scene052,e.addChild(this.instance.Scene052)},t.Scene053=function(t){var e=this.instance._stage;t.touchHandler&&e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,t.touchHandler,this),this.instance.startScene&&this.instance.startScene.parent&&(e.removeChild(this.instance.startScene),this.instance.startScene=null),this.instance.Scene051&&this.instance.Scene051.parent&&(e.removeChild(this.instance.Scene051),this.instance.Scene051=null),this.instance.Scene052&&this.instance.Scene052.parent&&(e.removeChild(this.instance.Scene052),this.instance.Scene052=null),this.instance.Scene053&&this.instance.Scene053.parent&&(e.removeChild(this.instance.Scene053),this.instance.Scene053=null),this.instance.Scene054&&this.instance.Scene054.parent&&(e.removeChild(this.instance.Scene054),this.instance.Scene054=null),this.instance.Scene053=new Scene053,e.addChild(this.instance.Scene053)},t.Scene054=function(t){var e=this.instance._stage;t.touchHandler&&e.removeEventListener(egret.TouchEvent.TOUCH_BEGIN,t.touchHandler,this),this.instance.startScene&&this.instance.startScene.parent&&(e.removeChild(this.instance.startScene),this.instance.startScene=null),this.instance.Scene051&&this.instance.Scene051.parent&&(e.removeChild(this.instance.Scene051),this.instance.Scene051=null),this.instance.Scene052&&this.instance.Scene052.parent&&(e.removeChild(this.instance.Scene052),this.instance.Scene052=null),this.instance.Scene053&&this.instance.Scene053.parent&&(e.removeChild(this.instance.Scene053),this.instance.Scene053=null),this.instance.Scene054&&this.instance.Scene054.parent&&(e.removeChild(this.instance.Scene054),this.instance.Scene054=null),this.instance.Scene054=new Scene054,e.addChild(this.instance.Scene054)},t.jumpr=function(e){var i=(this.instance._stage,this.instance.activeScene);setTimeout(function(){switch(i){case"050":t.Scene051(e);break;case"051":t.Scene052(e);break;case"052":t.Scene053(e);break;case"053":t.Scene054(e);break;case"054":}},400)},t.jumpl=function(e){var i=(this.instance._stage,this.instance.activeScene);switch(i){case"050":break;case"051":break;case"052":t.Scene051(e);break;case"053":t.Scene052(e);break;case"054":t.Scene053(e)}},t.refresh=function(t){this.instance.activeScene=t},t}();__reflect(SceneController.prototype,"SceneController");var StartScene=function(t){function e(){var e=t.call(this)||this;return e.addEventListener(egret.Event.ADDED_TO_STAGE,e.initView,e),console.log("scene050"),SceneController.refresh("050"),e}return __extends(e,t),e.prototype.initView=function(){var t=this;this.stage.setContentSize(3840,2160),console.log("舞台宽高",this.stage.stageWidth,this.stage.stageHeight);var e=this,i=RES.getRes("streamsound 0_mp3");this._soundchannel=i.play(0,1),this.addEventListener(egret.Event.ENTER_FRAME,this.onTimeUpdate,this);var s=GameUtil.createBitmapByName("sky_png"),h=GameUtil.createBitmapByName("yun_png");this.addChild(s),s.width=this.stage.stageWidth,s.height=this.stage.stageHeight,this.addChild(h),h.x=.5*this.stage.stageWidth,h.y=.05*this.stage.stageHeight,h.scaleX=6,h.scaleY=6,egret.Tween.get(h,{loop:!0}).to({x:.8*this.stage.stageWidth},3e3).wait(500).to({x:.5*this.stage.stageWidth},3e3);var a=GameUtil.createBitmapByName("button0001_png");this.addChild(a),a.x=3*(this.stage.stageWidth-a.width)/4,a.y=(this.stage.stageHeight-a.height)/2,a.anchorOffsetX=a.width/2,a.anchorOffsetY=a.height/2,a.scaleX=2.5,a.scaleY=2.5,a.touchEnabled=!0,a.addEventListener(egret.TouchEvent.TOUCH_TAP,function(){console.log("点击了开始游戏按钮，进入游戏场景"),t.removeChild(t._bear),t._zuiba&&t._zuiba.parent&&t.removeChild(t._zuiba),t._bear=t.createdonghua("bearmove"),t._bear.x=t.stage.stageWidth/3,t._bear.y=.8*t.stage.stageHeight,t._bear.scaleX=5,t._bear.scaleY=5,egret.Tween.get(t._bear).to({x:t.stage.stageWidth},3e3).call(function(){t.removeChild(t._bear),SceneController.jumpr(e)}),egret.Tween.get(a).to({scaleX:5,scaleY:5,alpha:.3},1500,egret.Ease.sineIn).call(function(){t.removeChild(a)})},this);var n=this.createdonghua("mogu");n.x=3*(this.stage.stageWidth-n.width)/4-.5*n.width,n.y=(this.stage.stageHeight-a.height)/2-3*n.height,n.scaleX=5,n.scaleY=5,this.swapChildren(a,n);var r=this.createdonghua("dashu");r.scaleX=this.stage.stageWidth/r.width*.45,r.scaleY=this.stage.stageHeight/r.height*.65,r.x=r.width*r.scaleX*.5,r.y=r.height*r.scaleY*.5;var o=this.createdonghua("caodi");o.x=this.stage.stageWidth/2,o.y=.8*this.stage.stageHeight,o.scaleX=this.stage.stageWidth/o.width*1.1,o.scaleY=this.stage.stageHeight/o.height*.5,this._bear=this.createdonghua("bearmove"),this._bear.scaleX=5,this._bear.scaleY=5,this._bear.x=0-this._bear.width/2,this._bear.y=.75*this.stage.stageHeight,egret.Tween.get(this._bear).to({x:.33*this.stage.stageWidth},1500).call(function(){t.removeChild(t._bear),t._bear=t.createdonghua("bear"),t._bear.scaleX=2.5,t._bear.scaleY=2.5,t._bear.x=.33*t.stage.stageWidth,t._bear.y=.75*t.stage.stageHeight,t.addChild(t._bear),t._zuiba=t.createdonghua("zuiba"),t._zuiba.x=t._bear.x-3*t._zuiba.width,t._zuiba.y=t._bear.y-.8*t._zuiba.height,t._zuiba.scaleX=t._zuiba.scaleY=3}),this.addjiaoyin(),egret.startTick(this.onTicker,this)},e.prototype.onTimeUpdate=function(){this._soundchannel.position>5&&(this._soundchannel.stop(),this._soundchannel=null,this._zuiba.parent&&this.removeChild(this._zuiba),this.removeEventListener(egret.Event.ENTER_FRAME,this.onTimeUpdate,this))},e.prototype.addjiaoyin=function(){var t=this.getjiaoyin(1/9,"jiaoyinleft_png",!0),e=this.getjiaoyin(2/9,"jiaoyinright_png",!1),i=this.getjiaoyin(3/9,"jiaoyinleft_png",!0),s=this.getjiaoyin(4/9,"jiaoyinright_png",!1),h=this.getjiaoyin(5/9,"jiaoyinleft_png",!0),a=this.getjiaoyin(6/9,"jiaoyinright_png",!1),n=this.getjiaoyin(7/9,"jiaoyinleft_png",!0),r=this.getjiaoyin(8/9,"jiaoyinright_png",!1);this.addEventListener(egret.Event.ENTER_FRAME,function o(){this._bear.x-this._bear.width>1*this.stage.stageWidth/9&&!t.parent&&this.addChild(t),this._bear.x-this._bear.width>2*this.stage.stageWidth/9&&!e.parent&&this.addChild(e),this._bear.x-this._bear.width>3*this.stage.stageWidth/9&&!i.parent&&this.addChild(i),this._bear.x-this._bear.width>4*this.stage.stageWidth/9&&!s.parent&&this.addChild(s),this._bear.x-this._bear.width>5*this.stage.stageWidth/9&&!h.parent&&this.addChild(h),this._bear.x-this._bear.width>6*this.stage.stageWidth/9&&!a.parent&&this.addChild(a),this._bear.x-this._bear.width>7*this.stage.stageWidth/9&&!n.parent&&this.addChild(n),this._bear.x-this._bear.width>8*this.stage.stageWidth/9&&!r.parent&&(this.addChild(r),this.removeEventListener(egret.Event.ENTER_FRAME,o,this))},this)},e.prototype.getjiaoyin=function(t,e,i){var s=GameUtil.createBitmapByName(e);return s.y=.8*this.stage.stageHeight+this._bear.height/2+(i?-s.height:s.height),s.x=this.stage.stageWidth*t-this._bear.width/2,s.scaleX=s.scaleY=2,s},e}(CommonScene);__reflect(StartScene.prototype,"StartScene");var GameData=function(){function t(){}return t.elements=[],t.rounds=0,t}();__reflect(GameData.prototype,"GameData");var Barrier=function(t){function e(e){var i=t.call(this)||this;return i._barrierData=e,i.hasTrigger=!1,i.isScroce=!1,i.createBarrier(),i}return __extends(e,t),e.prototype.createBarrier=function(){var t=this._barrierData;this.barrier_down=createBitmapByName("polebot_png"),this.barrier_down.anchorOffsetX=this.barrier_down.width/2,this.barrier_down.y=t.y,this.addChild(this.barrier_down),this.barrier_up=createBitmapByName("polebot_png"),this.barrier_up.anchorOffsetX=this.barrier_up.width/2,this.barrier_up.y=this.barrier_down.y-GameData.barrierWidth,this.barrier_up.rotation=180,this.addChild(this.barrier_up)},e.prototype.update=function(t){this.x-=GameData.speed},e}(GameObject);__reflect(Barrier.prototype,"Barrier");var Egg=function(t){function e(e){var i=t.call(this)||this;return i.hasTrigger=!1,i.eggData=e,i.init(),i}return __extends(e,t),e.prototype.init=function(){var t=createBitmapByName("egg_png");this.addChild(t)},e.prototype.update=function(t){this.x-=GameData.speed},e}(GameObject);__reflect(Egg.prototype,"Egg");var DebugPlatform=function(){function t(){}return t.prototype.getUserInfo=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2,{nickName:"username"}]})})},t.prototype.login=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})},t}();__reflect(DebugPlatform.prototype,"DebugPlatform",["Platform"]),window.platform||(window.platform=new DebugPlatform);var Player=function(t){function e(){var e=t.call(this)||this;return e.acceleration=0,e.init(),e}return __extends(e,t),Object.defineProperty(e.prototype,"width",{get:function(){return this._role.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._role.height},enumerable:!0,configurable:!0}),e.prototype.init=function(){this._role=createBitmapByName("player_png"),this.addChild(this._role),this.jump_img=createBitmapByName("jump_png"),this.jump_img.visible=!1,this.addChild(this.jump_img),this.death_img=createBitmapByName("death_png"),this.death_img.visible=!1,this.addChild(this.death_img)},e.prototype.jump=function(){var t=this;GameData.isAlive&&(this.acceleration=-GameData.jumpSpeed,this.jump_img.x=(this.width-this.jump_img.width)/2,this.jump_img.y=this.height,this.jump_img.visible=!0,egret.setTimeout(function(){t.jump_img.visible=!1},this,100))},e.prototype.death=function(t){var e=this;void 0===t&&(t=!1),GameData.isAlive=!1,t||(this.death_img.x=(this.width-this.jump_img.width)/2,this.death_img.y=-this.death_img.height,this.death_img.visible=!0,egret.setTimeout(function(){e.death_img.visible=!1},this,500))},e.prototype.update=function(t){this.y+=this.acceleration,this.acceleration+=GameData.gravity,this.y+this._role.height>GameData.groundHeight&&(this.death(!0),console.log("游戏结束"))},e}(GameObject);__reflect(Player.prototype,"Player");